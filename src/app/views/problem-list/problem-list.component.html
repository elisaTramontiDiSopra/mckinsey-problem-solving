<div class='container'>
  <h1>Problem Solving Engine</h1>
  <div class='row justify-content-between align-items-center px-3 mb-4'>
    Here you can manage all the problems you created
    <button class='btn btn-primary new-fact'>+ start a new problem solving</button>
  </div>

  <!-- ACTIONS -->
  <div class='row justify-content-between px-3'>
    <div class='actions'>
      <span class='actions-numbers'>{{actions.done}}/{{actions.total}} </span> Actions done
      <div class='bar'>
        <span class='done' [style.width]="(actions.done / actions.total) * 100 + '%'"></span>
        <span class='todo' [style.width]="(1 - (actions.done / actions.total)) * 100 + '%'"></span>
      </div>
    </div>

    <div class='filter'>
      <select class="custom-select form-control btn-primary" (ngModelChange)="wm.setStatus($event)">
        <option *ngFor="let btn of select" type="button" [ngValue]="btn.id">{{ btn.label }}</option>
      </select>
    </div>
  </div>


  <!-- PROBLEM LIST -->
  <div class='problem-list'>
    <div class='problem-header row'>
      <div class='col-2'>Title</div>
      <div class='col-3'>Description</div>
      <div class='col-2'>Responsable</div>
      <div class='col-2'>Creation date</div>
      <div class='col-1'>Progress</div>
      <div class='col-2'></div>
    </div>
    <div *ngFor='let problem of problems' class='problem row'>
      <div class='col-2'>{{problem.title}}</div>
      <div class='col-3'>{{problem.description}}</div>
      <div class='col-2'>{{problem.responsable}}</div>
      <div class='col-2'>{{problem.creationDate}}</div>
      <div class='col-1'>
        <div class='progress-circles'>
          <span class='small-circle' [ngClass]="{'filled' : problem.progress > 0.2}"></span>
          <span class='small-circle' [ngClass]="{'filled' : problem.progress > 0.4}"></span>
          <span class='small-circle' [ngClass]="{'filled' : problem.progress > 0.6}"></span>
          <span class='small-circle' [ngClass]="{'filled' : problem.progress > 0.8}"></span>
          <span class='small-circle' [ngClass]="{'filled' : problem.progress === 1.0}"></span>
        </div>
      </div>
      <div class='col-2 d-flex justify-content-center'>
        <div class='round-button' (click)='deleteProblem()'>
          <i class="fal fa-trash"></i>
        </div>
        <div class='round-button'>
          <i class="fal fa-pencil-alt"></i>
        </div>
        <div class='round-button'>
          <i class="fal fa-eye"></i>
        </div>
      </div>
    </div>
  </div>

</div>